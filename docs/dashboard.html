<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Black Lotus Execution Dashboard</title>
  <style>
    body {
      background-color: #0e0e0e;
      color: #f5f5f5;
      font-family: monospace;
      padding: 40px;
    }
    h1 {
      color: #ff4242;
      border-bottom: 2px solid #ff4242;
      padding-bottom: 10px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    .card {
      background-color: #1e1e1e;
      border-left: 6px solid #444;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(255, 66, 66, 0.1);
    }
    .card.red { border-left-color: #ff4242; }
    .label {
      font-size: 0.9rem;
      color: #aaa;
    }
    .value {
      font-size: 1.6rem;
      font-weight: bold;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h1>⚔️ Black Lotus Execution Dashboard</h1>
  <div id="dashboard" class="grid"></div>

  <script>
    fetch('summary.json')
      .then(res => res.json())
      .then(data => {
        const keys = {
          total_labs: 'Total Labs',
          labs_completed: 'Labs Completed',
          labs_pending: 'Labs Pending',
          efficiency_percent: 'Efficiency %',
          average_duration_minutes: 'Avg Duration (min)',
          average_execution_quality: 'Avg Execution Quality',
          average_difficulty: 'Avg Difficulty',
          gdb_usage_percent: 'GDB Usage %',
          memory_trace_percent: 'Memory Tracing %',
          diagram_coverage_percent: 'Diagram Coverage %',
          anki_cards_total: 'Total Anki Cards',
          eta_days: 'ETA Days',
          estimated_completion_date: 'Projected Completion Date'
        };

        const dashboard = document.getElementById('dashboard');
        for (let key in keys) {
          const value = data[key];
          const div = document.createElement('div');
          div.className = 'card' + ((value === 0 || value === "N/A") ? ' red' : '');
          div.innerHTML = `<div class="label">${keys[key]}</div><div class="value">${value}</div>`;
          dashboard.appendChild(div);
        }
      })
      .catch(err => {
        document.getElementById('dashboard').innerHTML = '<div class="card red">Error loading summary.json</div>';
        console.error(err);
      });
  </script>
</body>
</html>
